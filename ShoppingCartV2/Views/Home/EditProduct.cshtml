@model ShoppingCartV2.Models.Product

<script type="text/javascript">
    function loadName() {
        $('#ImageFile').val($('#fileUpload').val().replace(/^.*[\\\/]/, ''));
    }
</script>

<h2>@Html.Raw(ViewBag.Message)</h2>
<p></p>
@{ using (Html.BeginForm("EditProduct", "", FormMethod.Post, new { enctype = "multipart/form-data" })) {
    @Html.ValidationSummary(true);
    @Html.Hidden("ProductID", Model.ProductID);

    <fieldset>
        <legend>Fields</legend>

        <div class="editor-label">
            <b>Product Tab</b>
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => model.ProductTab)
            @Html.ValidationMessageFor(model => model.ProductTab)
        </div>

        <div class="editor-label">
            <b>Product Name</b>
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => model.ProductName)
            @Html.ValidationMessageFor(model => model.ProductName)
        </div>

        <div class="editor-label">
            <b>Image File</b>
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => model.ImageFile)
            @Html.ValidationMessageFor(model => model.ImageFile)
            <br />
            <span style="color: #0000FF;" color="#0000FF"><i>&nbsp;&nbsp;&nbsp;&nbsp;Browse for new file:</i></span>
            <input type="file" id="fileUpload" name="fileUpload" onchange="loadName();" size="50" />
        </div>

        <div class="editor-label">
            <b>Unit Price</b>
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => model.UnitPrice, String.Format("{0:F}", Model.UnitPrice))
            @Html.ValidationMessageFor(model => model.UnitPrice)
        </div>

        <div class="editor-label">
            <b>Maximum Amount</b>
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => model.MaxAmount)
            @Html.ValidationMessageFor(model => model.MaxAmount)
        </div>

        <div class="editor-label">
            <b>Default Amount</b>
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => model.DefaultAmount)
            @Html.ValidationMessageFor(model => model.DefaultAmount)
        </div>

        <p>
            <input type="submit" value="Save" />
        </p>
    </fieldset>
   }
}
<p>
    <h3>
        @Html.ActionLink("Back to Products View", "Products") |
        @Html.ActionLink("Back To Admin View", "Admin")
    </h3>
</p>

